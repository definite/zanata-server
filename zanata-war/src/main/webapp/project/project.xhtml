<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:zanata="http://java.sun.com/jsf/composite/zanata"
  template="../WEB-INF/template/template.xhtml">

  <ui:define name="page_title">
    #{messages['jsf.Projects']} - #{projectHome.instance.name}
  </ui:define>

  <ui:define name="center_content">
    <div class="g">
      <div class="g__item w--1-m w--3-8-l w--1-3 l--push-bottom-half">
        <p class="txt--meta l--push-all-0">
          <s:link view="/project/home.xhtml" propagation="none"
            value="#{messages['jsf.Projects']}"/>
        </p>

        <div class="media l--push-bottom-half">
          <div class="media__body">
            <h1 class="l--push-all-0">#{projectHome.instance.name}</h1>

            <p class="txt--understated">
              <s:fragment
                rendered="#{not empty projectHome.instance.homeContent}">
                #{projectHome.instance.homeContent}
              </s:fragment>
              <s:fragment
                rendered="#{empty projectHome.instance.homeContent and not empty projectHome.instance.description}">
                #{projectHome.instance.description}
              </s:fragment>
            </p>

            <s:fragment
              rendered="#{not empty projectHome.instance.sourceCheckoutURL}">
              <p class="txt--hyphenate">
                <a href="#{projectHome.instance.sourceCheckoutURL}">
                  #{projectHome.instance.sourceCheckoutURL}
                </a>
              </p>
            </s:fragment>
            <s:fragment
              rendered="#{not empty projectHome.instance.sourceViewURL}">
              <p class="txt--hyphenate">
                <a href="#{projectHome.instance.sourceViewURL}">
                  #{projectHome.instance.sourceViewURL}<i
                  class="i--small i--right i--external-link txt--neutral"></i>
                </a>
              </p>
            </s:fragment>

          </div>
        </div>

        <s:fragment rendered="#{identity.loggedIn}">
          <div class="panel l--push-top-half">
            <div class="panel__header">
              <h2 class="panel__heading--small">
                #{messages['jsf.YourActivity']}
              </h2>
            </div>
            <div class="l--pad-all-half">
              <ui:param name="activities"
                value="#{projectHomeAction.getProjectLatestActivity(projectHome.instance.id)}"/>
              <s:fragment rendered="#{not empty activities}">
                <ui:repeat value="#{activities}" var="activity">
                  <div class="txt--meta">
                    <zanata:activity-entry value="#{activity}"/>
                  </div>
                </ui:repeat>
              </s:fragment>
              <s:fragment rendered="#{empty activities}">
                <div class="l--pad-all-half bg--high">
                  <p><em>#{messages['jsf.YouHaveNoActivity']}</em></p>

                  <p class="txt--meta">#{messages['jsf.NoActivityMessage']}</p>
                </div>
              </s:fragment>
            </div>
          </div>
        </s:fragment>

      </div>

      <div class="g__item w--1-m w--5-8-l w--2-3">
        <div class="tabs--lined">
          <nav class="tabs__nav">
            <ul>
              <li>
                <a href="#versions" id="versions_tab" class="is-active"
                  title="#{messages['jsf.Versions']}"
                  onclick="setActiveTab(this)">
                  <i class="i i--version"></i>
                  <span class="is-hidden--s i__text--right">
                    #{messages['jsf.Versions']}
                    <a4j:outputPanel styleClass="txt--neutral"
                      id="versions-size">
                      #{projectHome.instance.projectIterations.size}
                    </a4j:outputPanel>
                  </span>
                </a>
              </li>
              <li>
                <a href="#maintainers" id="maintainers_tab"
                  title="#{messages['Maintainers']}"
                  onclick="setActiveTab(this)">
                  <i class="i i--users"></i>
                  <span class="is-hidden--m-down i__text--right">
                    #{messages['jsf.Maintainers']}
                    <a4j:outputPanel styleClass="txt--neutral"
                      id="maintainers-size">
                      #{projectHome.instance.maintainers.size}
                    </a4j:outputPanel>
                  </span>
                </a>
              </li>
              <li>
                <a href="instructions" title="Project Notes">
                  <i class="i i--info"></i><span
                  class="is-hidden--s i__text--right">Notes</span>
                </a>
              </li>
              <li class="tab__end">
                <div
                  class="dropdown dropdown--tab dropdown--small dropdown--right dropdown--inline js-dropdown">
                  <a class="dropdown__toggle js-dropdown__toggle" href="#">
                    <i class="i i--ellipsis" title="More Actions"></i>
                  </a>
                  <ul class="dropdown__content js-dropdown__content"
                    role="content" aria-labelledby="dropdownContent">
                    <li>
                      <a href="#" class="i__item--right">Export Project to TMX<i
                        class="i i--export i__item__icon"></i></a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="tab__end">
                <a href="settings" title="Project Settings">
                  <span class="is-hidden--s i__text--left">Settings</span><i
                  class="i i--settings" aria-hidden="true"></i>
                </a>
              </li>
            </ul>
          </nav>

          <div class="tabs__content panels__container l--push-top-1">

          </div>

        </div>
      </div>
    </div>
  </ui:define>


</ui:composition>